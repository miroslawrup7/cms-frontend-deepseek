function ensureToastRoot(){let t=document.getElementById("toast-root");return t?t.classList.add("toast-layer"):(t=document.createElement("div"),t.id="toast-root",t.className="toast-layer",document.body.appendChild(t)),t}export function toast(t,e="info",n=3e3){const o=ensureToastRoot(),s=document.createElement("div");s.className="toast";const a={success:"toast--success",error:"toast--error",info:"toast--info",warn:"toast--warn",warning:"toast--warning"};s.classList.add(a[e]||a.info),s.innerHTML=`<span class="toast-msg">${t}</span>`,o.appendChild(s);const c=()=>{s.classList.add("toast--hide"),s.addEventListener("transitionend",()=>s.remove(),{once:!0})},d=setTimeout(c,n);s.addEventListener("click",()=>{clearTimeout(d),c()})}export function toastError(t,e=4e3){toast(t,"error",e)}export function confirmToast({message:t,okText:e="OK",cancelText:n="Anuluj",timeout:o=0}={}){return new Promise(s=>{const a=document.createElement("div");a.className="toast-overlay";const c=document.createElement("div");c.className="toast toast--confirm",c.setAttribute("role","dialog"),c.setAttribute("aria-modal","true"),c.innerHTML=`\n      <div class="toast__msg">${t||"PotwierdziÄ‡?"}</div>\n      <div class="toast__actions">\n        <button type="button" class="btn btn--primary toast__ok">${e}</button>\n        <button type="button" class="btn btn--ghost toast__cancel">${n}</button>\n      </div>\n    `,document.body.appendChild(a),document.body.appendChild(c);const d=c.querySelector(".toast__ok"),i=c.querySelector(".toast__cancel"),r=document.activeElement;d?.focus();const l=t=>{c.classList.add("toast--hide"),a.classList.add("toast-overlay--hide");const e=()=>{c.remove(),a.remove(),r&&r.focus?.(),s(t)};let n=0;const o=()=>{2===++n&&e()};c.addEventListener("transitionend",o,{once:!0}),a.addEventListener("transitionend",o,{once:!0}),setTimeout(e,250)},u=t=>{"Escape"===t.key&&l(!1),"Enter"===t.key&&l(!0)};d?.addEventListener("click",()=>l(!0)),i?.addEventListener("click",()=>l(!1)),a.addEventListener("click",()=>l(!1)),document.addEventListener("keydown",u);let m=null;o>0&&setTimeout(()=>l(!1),o);c.addEventListener("transitionend",()=>document.removeEventListener("keydown",u),{once:!0})})}
//# sourceMappingURL=toast.js.map
